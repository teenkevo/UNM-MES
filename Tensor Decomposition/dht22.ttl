# Copyright 2017-2019 UNM-MES Research.
# Authored by: Kevin Luwemba Mugumya 
# THe Specification of this Data Model and accompanying documentation
# is in RDF, an open Web standard that can be freely used by anyone.

# Serialized herewith in N3 Turtle format.

# This Data Model is part of the research work in progress for encoding
# building data using extensible and modular semantic web blocks.
# This data model is envisaged to fully develop into the semantic glue that 
# exposes linked building data to a reinforcement learning setting.
# Relational learning, specifically tensor decompositon is adopted to translate 
# the data model presented here into a more formalized state-representation that
# will guide the learning process of a reinforcement learning agent in a building 
# control setting.

# Please Note that this is a more complex semantic representation of the figure 
# presented earlier while representative, only depicts the most important concepts
# of the model. 

@prefix erl:  <http://TODO-unm-mes-research/bms/thermal/erl#> .
@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix owl:  <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix time: <http://www.w3.org/2006/time#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .
@prefix qudt-1-1: <http://qudt.org/1.1/schema/qudt#> .
@prefix qudt-unit-1-1: <http://qudt.org/1.1/vocab/unit#> .
@prefix cdt:   <http://w3id.org/lindt/custom_datatypes#> .
@prefix schema: <http://schema.org/>.
@prefix ex: <http://example.org/> .

#SSN/SOSA Imports
@prefix sosa: <http://www.w3.org/ns/sosa/> .
@prefix ssn: <http://www.w3.org/ns/ssn/> .
@prefix ssn-system: <http://www.w3.org/ns/ssn/systems/> .

#BOT Imports
@prefix bot: <https://w3id.org/bot#> .

#SEAS Import
@prefix seas: <https://w3id.org/seas/> .

#OPM Import
@prefix opm: <https://w3id.org/opm#> .

#PROV import
@prefix prov:  <http://www.w3.org/ns/prov#> .

# A base IRI to resolve any relative IRIs in the document 
@base <http://example.org/data/> .

##############################################################
# TBOX
##############################################################

# DECLARING SOME CLASSES AND PROPERTIES FOR ENCODING DEMAND RESPONSE SEMANTICS

# CLASSES
erl:CoolingLoadOptimizer a owl:Class ;
  rdfs:subClassOf sosa:Procedure ;
  rdfs:comment '''A demand-response control procedure being implemented to optimize
                  cooling load in a building.''' .

erl:AIAgentController a owl:Class ;
  rdfs:subClassOf erl:CoolingLoadOptimizer ;
  rdfs:comment '''A reinforcment learning demand-response control procedure 
                  implemented to optimize cooling load in a building. ''' .

erl:RuleBasedController a owl:Class ;
  rdfs:subClassOf erl:CoolingLoadOptimizer ;
  rdfs:comment '''A rule-based control procedure implemented to optimize cooling 
                  load in a building.''' . 


erl:RenewableEnergyStorage a owl:Class ;
  rdfs:subClassOf seas:ElectricPowerSystem ;
  rdfs:comment '''An an electric power system that is capable of storing and supplying 
                  electricity generated by some renewable energy resource.''' .

erl:GridEnergyStorage a owl:Class ;
  rdfs:subClassOf seas:ElectricPowerSystem ;
  rdfs:comment '''A collection of methods used for energy storage on a large scale 
                  within an electrical power grid eg Hydo-Electric energy storage ''' .


# OBJECT PROPERTIES

erl:hasLoadOptimizer a owl:ObjectProperty ;
  rdfs:subPropertyOf ssn:Implements ;
  rdfs:comment '''Relationship between a building or its zones with the load
                  optimizer it implements''' ;
  rdfs:domain bot:Zone ;
  rdfs:range erl:CoolingLoadOptimizer .

erl:hasEnergySupply a owl:ObjectProperty ;
  rdfs:subPropertyOf seas:isPoweredBy ;
  rdfs:comment '''Relationship between a building or its zones with the electric 
                  supply system powering it''' ;
  rdfs:domain bot:Zone ; 
  rdfs:range erl:erl:RenewableEnergyStorage , erl:GridEnergyStorage .

erl:optimizesConsumptionFrom a owl:ObjectProperty ;
  rdfs:subPropertyOf seas:optimizes ;
  rdfs:comment '''Relationship between a building load optimizer and the feature 
                  of interest which it optimizes.''' ;
  rdfs:domain erl:CoolingLoadOptimizer ; 
  rdfs:range erl:RenewableEnergyStorage , erl:GridEnergyStorage .
              
# ABOX

# BUILDING ZONE DETAILS
####################################################

# Site location (UNM) for some building of interest (Block_B)
<UNM> a bot:Site ;
  bot:hasBuilding <Block_B> .

# Block_B has some storey of interest Floor_3
<Block_B> bot:hasStorey <Floor_3> .

# Floor_3 has some space(zone) of interest Office_204
<Floor_3> bot:hasSpace <Office_204> .


# DESCRIPTION OF FEATURES OF INTEREST
####################################################

# Office_204 (FOI) hosts some 2 walls at the east and south that will host 
# some sensors. The space also has some two properties temperature and humidity

<Office_204> a sosa:FeatureOfInterest ;
  rdfs:label "Office #204"@en ;
  bot:containsElement <Office_204/east> ;
  bot:containsElement <Office_204/south> ;
  ssn:hasProperty <Office_204#temperature> , <Office_204#humidity> .

# Office_204 east side wall to host a NodeMCU board with a DHT22 temp and 
# hum sensor. The wall also has an assigned thermal transmittance property 
<Office_204/east> a sosa:FeatureOfInterest , sosa:Sample , sosa:Platform ;
  rdfs:label "East wall of Office #204."@en ;
  rdfs:comment '''This wall hosts NodeMCU 1 board with a DHT22 temperature and 
                  humidity sensor #01.'''@en ;
  sosa:hosts <NodeMCU_1> ;
  seas:thermalTransmittance <Office_204/east_thermalTransmittance> .

# Office_204 south side wall to host a NodeMCU board with a DHT22 temp and 
# hum sensor. The wall also has an assigned thermal transmittance property                
<Office_204/south> a sosa:FeatureOfInterest , sosa:Sample , sosa:Platform ;
  rdfs:label "South wall of Office #204."@en ;
  rdfs:comment '''This wall hosts NodeMCU 2 board with a DHT22 temperature 
                  and humidity sensor #02.'''@en ;
  sosa:hosts <NodeMCU_2> ;
  seas:thermalTransmittance <Office_204/south_thermalTransmittance> .


# DESCRIPTION OF PCB BOARDS HOSTING THE SENSORS
##############################################################

# NodeMCU 1 board hosted by the office_204 east side wall.
<NodeMCU_1> a ssn:System , sosa:Platform ;
  rdfs:label "NodeMCU 1 board"@en ;
  rdfs:comment '''NodeMCU 1 board hosts the DHT22 temperature and humidity 
                  sensor #01 '''@en ;
  sosa:hosts <DHT22/01> ;
  ssn:hasSubSystem <DHT22/01> .

# NodeMCU 2 board hosted by the office_204 south side wall.
<NodeMCU_2> a ssn:System , sosa:Platform ;
  rdfs:label "NodeMCU 2 board"@en ;
  rdfs:comment '''NodeMCU 2 board hosts the DHT22 temperature and humidity 
                  sensor #02 '''@en ;
  sosa:hosts <DHT22/02> ;
  ssn:hasSubSystem <DHT22/02> .


# DESCRIPTION OF THE DHT22 SENSORS HOSTED BY THE PCB BOARDS
##############################################################

# DHT22 #1 temp and hum sensor hosted by the the NodeMCU 1 board.
<DHT22/01> a ssn:System ;
  rdfs:comment "DHT22 sensor #01 contains a humidity and a temperature sensor."@en ;
  rdfs:seeAlso <https://www.sparkfun.com/datasheets/Sensors/Temperature/DHT22.pdf> ;
  ssn:hasSubSystem <DHT22/01#TemperatureSensor>, <DHT22/01#HumiditySensor> .

# DHT22 #1 temp and hum sensor hosted by the the NodeMCU 2 board.
<DHT22/02> a ssn:System ;
  rdfs:comment "DHT22 sensor #02 contains a humidity and a temperature sensor."@en ;
  rdfs:seeAlso <https://www.sparkfun.com/datasheets/Sensors/Temperature/DHT22.pdf> ;
  ssn:hasSubSystem <DHT22/02#TemperatureSensor>, <DHT22/02#HumiditySensor> .


# DESCRIPTION OF SENSORY PROCEDURE
##############################################################

# Description of the sensory procedure to be used.
<DHT22#Procedure> a sosa:Procedure ;
  ssn:hasOutput <DHT22#output> .


# DETAILED DESCRIPTION OF DHT22 SENSOR #1 IN OPERATION  
##############################################################

# DHT22 #1 Temp sensor, its operating range, system capability and implementation
# procedure.
<DHT22/01#TemperatureSensor> a sosa:Sensor , ssn:System ;
  rdfs:comment '''The embedded temperature sensor, a specific instance of temperature
                  sensor.'''@en ;
  ssn-system:hasOperatingRange <DHT22/01#TemperatureSensorOperatingRange> ; 
  ssn-system:hasSystemCapability <DHT22/01#TemperatureSensorCapability> ;
  ssn:implements <DHT22#Procedure> .

# DHT22 #1 Hum sensor, its operating range, system capability and implementation 
# procedure.
<DHT22/01#HumiditySensor> a sosa:Sensor , ssn:System ;
  rdfs:comment '''The embedded humidity sensor, a specific instance of humidity 
                  sensor.'''@en ;
  ssn-system:hasOperatingRange <DHT22/01#HumiditySensorOperatingRange> ;
  ssn:implements <DHT22#Procedure> .

# DHT22 #1 Temp sensor operating range (Normal Temp and Hum condition).
<DHT22/01#TemperatureSensorOperatingRange> a ssn-system:OperatingRange ;
  rdfs:comment '''The conditions in which the DHT22 temperature sensor is expected to 
                operate.'''@en ;
  ssn-system:inCondition <NormalTemperatureCondition> , <NormalHumidityCondition> .

# DHT22 #1 Temp sensor operating range (Normal Temp and Hum condition).
<DHT22/01#HumiditySensorOperatingRange> a ssn-system:OperatingRange ;
  rdfs:comment '''The conditions in which the DHT22 humidity sensor is expected to 
                operate.'''@en ;
  ssn-system:inCondition <NormalTemperatureCondition> , <NormalHumidityCondition> .

# Normal Temp operating range details.
<NormalTemperatureCondition> a ssn-system:Condition , schema:PropertyValue ;
  rdfs:comment "A temperature range of -40 to 125 Celsius."@en ;
  schema:minValue -40.0 ;
  schema:maxValue 125.0 ;
  schema:unitCode qudt-unit-1-1:DegreeCelsius .

# Normal Hum operating range details.
<NormalHumidityCondition> a ssn-system:Condition , schema:PropertyValue ;
  rdfs:comment "A relative humidity range of 0 to 100 %."@en ;
  schema:minValue 0.0 ;
  schema:maxValue 100.0 ;
  schema:unitCode qudt-unit-1-1:Percent .

# DHT22 #1 Temp sensor capability (acc, sensitivity, repeatability & frequency) 
# while in normal operating conditions. 
<DHT22/01#TemperatureSensorCapability> 
  a ssn:Property , 
    ssn-system:SystemCapability , 
    schema:PropertyValue ;
  rdfs:comment '''The capabilities of the temperature sensor in normal temperature 
                  and humidity conditions.''' ;
  ssn-system:inCondition <NormalTemperatureCondition> , <NormalHumidityCondition> ;
  ssn-system:hasSystemProperty  <DHT22/01#TemperatureSensorAccuracy> , 
                                <DHT22/01#TemperatureSensorSensitivity> ,
                                <DHT22/01#TemperatureSensorRepeatability> , 
                                <DHT22/01#TemperatureSensorFrequency> .

# DHT22 #1 Temp sensor accuracy details.
<DHT22/01#TemperatureSensorAccuracy> 
  a ssn:Property ,
    ssn-system:Accuracy , 
    schema:PropertyValue ;
  rdfs:comment '''The accuracy of the temperature sensor is +-0.5 Â°C in normal 
                  temperature and humidity conditions.'''@en ;
  schema:minValue -0.5 ;
  schema:maxValue 0.5 ;
  schema:unitCode qudt-unit-1-1:DegreeCelsius .

# DHT22 #1 Temp sensor sensitivy details.
<DHT22/01#TemperatureSensorSensitivity> 
  a ssn:Property , 
    ssn-system:Sensitivity , 
    ssn-system:Resolution , 
    schema:PropertyValue ;
  rdfs:comment '''The sensitivity and resolution of the temperature sensor is 
                  0.1 Â°C in normal temperature and humidity conditions."@en''';
  schema:value 0.1 ;
  schema:unitCode qudt-unit-1-1:DegreeCelsius .

# DHT22 #1 Temp sensor precision details
<DHT22/01#TemperatureSensorPrecision> 
  a ssn:Property , 
    ssn-system:Precision , 
    schema:PropertyValue ;
  rdfs:comment '''The precision (= repeatability) of the temperature sensor 
                  is +-0.2 Â°C in normal temperature and humidity conditions.'''@en ;
  schema:minValue 0.2 ;
  schema:maxValue 0.2 ;
  schema:unitCode qudt-unit-1-1:DegreeCelsius .

# DHT22 #1 Temp sensor frequency details
<DHT22/01#TemperatureSensorFrequency>
  a ssn:Property , 
    ssn-system:Frequency , 
    schema:PropertyValue ;
  rdfs:comment '''The smallest possible time between one observation and the 
                  next is 2 s on average.'''@en ;
  schema:value 2 ;
  schema:unitCode qudt-unit-1-1:Second .


# DETAILED DESCRIPTION OF DHT22 SENSOR #2 IN OPERATION  
##############################################################

# DHT22 #2 Temp sensor, its operating range, system capability and implementation 
# procedure.
<DHT22/02#TemperatureSensor> a sosa:Sensor , ssn:System ;
  rdfs:comment '''The embedded temperature sensor, a specific instance of 
                  temperature sensor.'''@en ;
  ssn-system:hasOperatingRange <DHT22/02#TemperatureSensorOperatingRange> ; 
  ssn-system:hasSystemCapability <DHT22/02#TemperatureSensorCapability> ;
  ssn:implements <DHT22#Procedure> .

# DHT22 #2 Hum sensor, its operating range, system capability and implementation
# procedure.
<DHT22/02#HumiditySensor> a sosa:Sensor , ssn:System ;
  rdfs:comment '''The embedded humidity sensor, a specific instance of humidity 
                  sensor.'''@en ;
  ssn-system:hasOperatingRange <DHT22/02#HumiditySensorOperatingRange> ;
  ssn:implements <DHT22#Procedure> .

# DHT22 #2 Temp sensor operating range (Normal Temp and Hum condition).
<DHT22/02#TemperatureSensorOperatingRange> a ssn-system:OperatingRange ;
  rdfs:comment '''The conditions in which the DHT22 temperature sensor is expected 
                to operate.'''@en ;
  ssn-system:inCondition <NormalTemperatureCondition> , <NormalHumidityCondition> .

# DHT22 #2 Temp sensor operating range (Normal Temp and Hum condition).
<DHT22/02#HumiditySensorOperatingRange> a ssn-system:OperatingRange ;
  rdfs:comment '''The conditions in which the DHT22 humidity sensor is expected to 
                operate.'''@en ;
  ssn-system:inCondition <NormalTemperatureCondition> , <NormalHumidityCondition> .

# DHT22 #2 Temp sensor capability (acc, sensitivity, repeatability & frequency) 
# while in normal operating conditions. 
<DHT22/02#TemperatureSensorCapability> 
  a ssn:Property , 
    ssn-system:SystemCapability , 
    schema:PropertyValue ;
  rdfs:comment '''The capabilities of the temperature sensor in normal temperature 
                and humidity conditions.''' ;
  ssn-system:inCondition <NormalTemperatureCondition> , <NormalHumidityCondition> ;
  ssn-system:hasSystemProperty  <DHT22/02#TemperatureSensorAccuracy> , 
                                <DHT22/02#TemperatureSensorSensitivity> ,
                                <DHT22/02#TemperatureSensorRepeatability> , 
                                <DHT22/02#TemperatureSensorFrequency> .

# DHT22 #2 Temp sensor accuracy details.
<DHT22/02#TemperatureSensorAccuracy> 
  a ssn:Property , 
    ssn-system:Accuracy , 
    schema:PropertyValue ;
  rdfs:comment '''The accuracy of the temperature sensor is +-0.5 Â°C in normal 
                temperature and humidity conditions.'''@en ;
  schema:minValue -0.5 ;
  schema:maxValue 0.5 ;
  schema:unitCode qudt-unit-1-1:DegreeCelsius .

# DHT22 #2 Temp sensor sensitivy details.
<DHT22/02#TemperatureSensorSensitivity> 
  a ssn:Property , 
    ssn-system:Sensitivity , 
    ssn-system:Resolution , 
    schema:PropertyValue ;
  rdfs:comment '''The sensitivity and resolution of the temperature sensor is 
                  0.1 Â°C in normal temperature and humidity conditions.'''@en ;
  schema:value 0.1 ;
  schema:unitCode qudt-unit-1-1:DegreeCelsius .

# DHT22 #2 Temp sensor precision details
<DHT22/02#TemperatureSensorPrecision>
  a ssn:Property , 
    ssn-system:Precision , 
    schema:PropertyValue ;
  rdfs:comment '''The precision (= repeatability) of the temperature sensor is 
                  +-0.2 Â°C in normal temperature and humidity conditions.'''@en ;
  schema:minValue 0.2 ;
  schema:maxValue 0.2 ;
  schema:unitCode qudt-unit-1-1:DegreeCelsius .

# DHT22 #2 Temp sensor frequency details
<DHT22/02#TemperatureSensorFrequency> 
  a ssn:Property , 
    ssn-system:Frequency , 
    schema:PropertyValue ;
  rdfs:comment '''The smallest possible time between one observation and the next 
                is 2 s on average.'''@en ;
  schema:value 2 ;
  schema:unitCode qudt-unit-1-1:Second .


# DESCRIPTION OF OPERATING RANGE OF BOTH SENSORS (LINE 214)
###########################################################

# Normal Temp operating range details.
<NormalTemperatureCondition> a ssn-system:Condition , schema:PropertyValue ;
  rdfs:comment "A temperature range of -40 to 125 Celsius."@en ;
  schema:minValue -40.0 ;
  schema:maxValue 125.0 ;
  schema:unitCode qudt-unit-1-1:DegreeCelsius .

# Normal Hum operating range details.
<NormalHumidityCondition> a ssn-system:Condition , schema:PropertyValue ;
  rdfs:comment "A relative humidity range of 0 to 100 %."@en ;
  schema:minValue 0.0 ;
  schema:maxValue 100.0 ;
  schema:unitCode qudt-unit-1-1:Percent .



# DEPLOYMENT OF NODEMCU BOARDS IN OFFICE_204
###########################################################


<Office_204Deployment> a ssn:Deployment ;
  rdfs:comment '''Deployment of NodeMCU Board 1 and 2 on the east and south 
                  wall of Office #204''';
  ssn:deployedOnPlatform <Office_204/east> , <Office_204/south> ;
  ssn:deployedSystem <NodeMCU_1> , <NodeMCU_2> ;
  ssn:forProperty <Office_204#temperature> , <Office_204#humidity> .


# ENCODING PROPERTY STATE EVOLVEMENT
###########################################################

# Assigning a state to the thermal transmittance property of the east-side
# wall of Office #204
<Office_204/east_thermalTransmittance> 
    opm:hasPropertyState <Office_204/east_thermalTransmittance_state_46847593_ruo09u> .

# Assigning a state to the thermal transmittance property of the south-side 
# wall of Office #204
<Office_204/south_thermalTransmittance> 
    opm:hasPropertyState <Office_204/south_thermalTransmittance_state_39485034_fi5968> .


# Assigning a state to the temperature property of Office #204 
<Office_204#temperature> 
  opm:hasPropertyState <Office_204#temperature_state_48906948_er8t78> ,
  
  # Encoding max comfortable temperature as reported by some occupant_12 
  [
    a seas:TemperatureEvaluation , 
      seas:AgentComfortEvaluation , 
      seas:MaximumComfortableEvaluation ;
    seas:relativeToAgent <Occupant_12> ;
    seas:evaluatedSimpleValue "27.0 DEG"^^cdt:ucum ;
    prov:generatedAtTime "2020-07-28T16:41:17.711+02:00"^^xsd:dateTime
  ] ,

  # Encoding min comfortable temperature as reported by some occupant_12 
  [
    a seas:TemperatureEvaluation ,
      seas:AgentComfortEvaluation , 
      seas:MinimumComfortableEvaluation ;
    seas:relativeToAgent <Occupant_12> ;
    seas:evaluatedSimpleValue "16.0 DEG"^^cdt:ucum ;
    prov:generatedAtTime "2020-07-28T16:41:17.711+02:00"^^xsd:dateTime
  ] , 

  # Encoding some interval of time when temp peaked above the max comfortable 
  # limit for occupant_12 
  [
    a seas:TemperatureEvaluation , 
      seas:TimeMaximumEvaluation ;
      seas:relativeToAgent <Occupant_12> ;
    seas:evaluatedSimpleValue "30.5 DEG"^^cdt:ucum ;
    prov:generatedAtTime "2020-07-28T16:41:17.711+02:00"^^xsd:dateTime ;
    seas:hasTemporalContext 
        [
          a time:Interval ;
          time:hasBeginning 
            [ 
              time:inXSDDateTimeStamp "2017-08-10T12:00:00Z"^^xsd:dateTimeStamp 
            ] ;
          time:hasEnd 
            [ 
              time:inXSDDateTimeStamp "2017-08-10T13:00:00Z"^^xsd:dateTimeStamp 
            ] 
        ] 
  ] .

# Assigning a state to the humidity property of Office #204 
<Office_204#humidity> 
  opm:hasPropertyState <Office_204#humidity_state_40039548_gktiy8> ,

  # Encoding max comfortable humidity level for some occupant_12 
  [
    a seas:TemperatureEvaluation , 
      seas:AgentComfortEvaluation , 
      seas:MaximumComfortableEvaluation ;
    seas:relativeToAgent <Occupant_12> ;
    seas:evaluatedSimpleValue "55 %"^^cdt:ucum ;
    prov:generatedAtTime "2020-07-28T16:41:17.711+02:00"^^xsd:dateTime
  ] ,

  # Encoding min comfortable humidity level for some occupant_12
  [
    a seas:AgentComfortEvaluation , 
      seas:MinimumComfortableEvaluation ;
    seas:relativeToAgent <Occupant_12> ;
    seas:evaluatedSimpleValue "35 %"^^cdt:ucum ;
    prov:generatedAtTime "2020-07-28T16:41:17.711+02:00"^^xsd:dateTime
  ] .


# Assigning semantics to Office_204/east_thermalTransmittance_state_46847593_ruo09u 
# state of east-side wall
<Office_204/east_thermalTransmittance_state_46847593_ruo09u> 
  a opm:Assumed , 
    opm:CurrentPropertyState ;
  schema:value "0.27 W/(m2.K)"^^cdt:ucum ;
  prov:generatedAtTime "2020-07-28T16:41:17.711+02:00"^^xsd:dateTime.

# Assigning semantics to Office_204/south_thermalTransmittance_state_39485034_fi5968 
# state of south-side wall
<Office_204/south_thermalTransmittance_state_39485034_fi5968> 
  a opm:Assumed , 
    opm:CurrentPropertyState ;
  schema:value "0.24 W/(m2.K)"^^cdt:ucum ;
  prov:generatedAtTime "2020-07-28T16:41:17.711+02:00"^^xsd:dateTime. 

# Assigning semantics to Office_204#temperature_state_48906948_er8t78 state
<Office_204#temperature_state_48906948_er8t78> 
  a opm:Confirmed , 
    opm:CurrentPropertyState ;
  schema:value "30.5 Cel"^^cdt:temperature ;
  prov:generatedAtTime "2020-07-28T16:41:17.711+02:00"^^xsd:dateTime. 

# Assigning semantics to Office_204#humidity_state_40039548_gktiy8 state
<Office_204#humidity_state_40039548_gktiy8> 
  a opm:Confirmed , 
    opm:CurrentPropertyState ;
  schema:value "85.0 %"^^cdt:ucum ;
  prov:generatedAtTime "2020-07-28T16:41:17.711+02:00"^^xsd:dateTime. 


# EXAMPLE OBSERVATION FOR TEMPERATURE
###########################################################

<observation/1087> a sosa:Observation ;
  sosa:madeBySensor <DHT22/02#TemperatureSensor> ;
  sosa:usedProcedure <DHT22#Procedure> ;
  ssn-system:qualityOfObservation <observation/1087#quality> .

# one may use some ontology to further qualify this quality.

<observation/1087#quality>
  ex:evaluatedBy <Kevin> ;
  ex:confidenceValue "6"^^xsd:integer;
  rdfs:comment '''Kevin gave a confidence value of 6 out of 10 on this 
                  observation.'''@en .


###########################################################
# DESCRIPTION OF LOAD OPTIMIZATION PROCEDURES
###########################################################

# Block-B's PV Energy supply system and its Load Optimizers
<Block_B> erl:hasEnergySupply <ThinFilm_PV_System> , <Tenaga_Grid_Supply> ;
  erl:hasLoadOptimizer <RL_Algorithm> , <Fuzzy_Logic_Control> .


#PV SYSTEM SEMANTICS

# PV solar panel system hosting an energy storage battery
<ThinFilm_PV_System> 
a erl:RenewableEnergyStorage, 
  sosa:FeatureOfInterest, 
  sosa:Platform ;
rdfs:comment "A ThinFilm PV type solar system hosting a battery for energy storage" ;
sosa:hosts <ThinFilm_PV_Battery> .

# Assigning a State-of-Charge property to the battery
<ThinFilm_PV_Battery> a sosa:FeatureOfInterest , sosa:Sample , seas:Battery ;
  ssn:hasProperty <ThinFilm_PV_Battery_StateOfCharge> .

# Assigning a state to the property for keeping track of its evolvement with time
<ThinFilm_PV_Battery_StateOfCharge> 
  opm:hasPropertyState <ThinFilm_PV_Battery_StateOfCharge_state_95868493_kiut96> .

# Assigning some quantifying semantics to the state of the Battery's property 
# (State-Of-Charge)
<ThinFilm_PV_Battery_StateOfCharge_state_95868493_kiut96> 
a opm:Confirmed , 
  opm:CurrentPropertyState ;
schema:value "79 %"^^cdt:ucum ;
prov:generatedAtTime "2020-07-28T16:41:17.711+02:00"^^xsd:dateTime .


# LOAD OPTIMIZERS

<RL_Algorithm> a erl:AIAgentController ;
  rdfs:comment '''A reinfrocement learning algorithm implementated to optimize 
                  cooling load in a building.''' ;
  erl:optimizesConsumptionFrom <ThinFilm_PV_System>.

<Fuzzy_Logic_Control> a erl:RuleBasedController ;
  rdfs:comment '''A fuzzy-logic rule-based control algorithm implementated to 
                  optimize cooling load in a building.''' ;
  erl:optimizesConsumptionFrom <ThinFilm_PV_System>.

# TODO----> Extend semantics of The LoadOptimizers
# TODO----> Richer Property assignment to the FoIs following CityLearn's 
# OpenAI GYM Env
# TODO----> Define property inference and possible exisitng derivations
# TODO----> Encode ASHRAE comfort evaluation with OPM's property states
# TODO----> Define envelope semantics for infiltration
# TODO----> Define HVAC consumption with relation to, ducts space, 
# sensors, actuators, and room materials
# TODO----> Dev 4 Javascript Library to generate KG compliant queries 